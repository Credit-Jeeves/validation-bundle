imports:
    - { resource: ../base/config.yml }
    - { resource: ../base/sonata.yml }
    - { resource: ../parameters.yml } # would be generated from parameters_SERVER.yml depends on SERVER
    - { resource: security.yml } #different for each application
    - { resource: ../base/fos.yml }
    - { resource: ../base/doctrine.yml }
    - { resource: ../base/jms.yml }
    - { resource: ../base/swiftmailer.yml }
    - { resource: ../base/assetic.yml }
    - { resource: ../base/email.yml }
    - { resource: ../base/framework.yml }
    - { resource: ../base/twig.yml }
    - { resource: ../rj/twig.yml }
    - { resource: ../base/apy_js_form_validation.yml }
    - { resource: ../base/fos_oauth_server.yml }
    - { resource: ../base/aci.yml }
    - { resource: ../base/monolog.yml }

parameters:
    server_name: '%server_name_rj%'
    support_email: help@renttrack.com
    support_phone: (866) 841-9090

    email_from: no-reply@renttrack.com
    email_name: RentTrack

    rt_group_code: 'RentTrackCorp'

    property_management:
        name: 'RENTTRACK'
        address: '4601 EXCELSIOR BLVD # 403A ST. LOUIS PARK MN 55416'
        phone: '8668419090'

    external_urls:
        main_site: 'www.renttrack.com'
        user_voice: 'help.renttrack.com'

    partners:
        price: 0
        product: 'registration'
# parameters for landlord import
    paydirect_fee_cc: 2.79
    paydirect_fee_ach: 2.50

    dod_limit_max_payment: 5000
#parameters for ScoreTrack
    score_track:
        is_free_enabled: 1 #1 enable 0 disable
        free_until: 6 # quantity of month

# parameters for twig
    payment_bank_fee: 0 # feeACH would be processed on heartland side
    payment_card_fee: 2.95% # feeCC
    payment_dollars: $20
    payment_one_time_until_value: '18:45'
    credittrack_payment_per_month_currency: $
    credittrack_payment_per_month_dollars: 3
    credittrack_payment_per_month_cents: 95
    credittrack_payment_per_month: %credittrack_payment_per_month_dollars%.%credittrack_payment_per_month_cents%
    landlord_monthly_minimum: $9.95
    landlord_per_screen: $14.95
    landlord_payment_per_month_dollars: 2
    landlord_payment_per_month_cents: 49
framework:
    session:
        name: rj
        cookie_secure: true
        cookie_httponly: true
        handler_id: session.handler.pdo
    router:
        resource: "%kernel.root_dir%/config/rj/routing.yml"

sonata_admin:
    title:      Admin
    title_logo: /bundles/rjpublic/images/logo-new.png
    templates:
        layout:  RjAdminBundle::standard_layout.html.twig
    dashboard:
        blocks:
            # display a dashboard block
            - { position: left, type: sonata.admin.block.admin_list }
        groups:
            admin:
              items:
                - rj_email.email_admin
                - sonata.admin.admin
                - sonata.admin.orders
                - sonata.admin.operations
                - sonata.admin.jobs
                - sonata.admin.settings
                - sonata.admin.import_report
            RentJeeves:
              items:
                - sonata.admin.payments
                - sonata.admin.rj_holding
                - sonata.admin.rj_group
                - sonata.admin.rj_group_phone
                - sonata.admin.landlord
                - sonata.admin.tenant
                - sonata.admin.contract_waiting
                - sonata.admin.resident_mapping
                - sonata.admin.property_mapping
                - sonata.admin.unit_mapping
                - sonata.admin.partners

twig:
    exception_controller: FOS\RestBundle\Controller\ExceptionController::showAction
    globals:
        application: rj
        google_maps_key: %google_maps_key%
        payment_card_fee: %payment_card_fee%
        payment_dollars: %payment_dollars%
        credittrack_payment_per_month: %credittrack_payment_per_month_currency%%credittrack_payment_per_month%
        credittrack_payment_per_month_dollars: %credittrack_payment_per_month_dollars%
        credittrack_payment_per_month_cents: %credittrack_payment_per_month_cents%
        landlord_monthly_minimum: %landlord_monthly_minimum%
        landlord_per_screen: %landlord_per_screen%
        landlord_payment_per_month_dollars: %landlord_payment_per_month_dollars%
        landlord_payment_per_month_cents: %landlord_payment_per_month_cents%
        features:
            allow_score_track: %allow_score_track%

stof_doctrine_extensions:
    class:
        loggable: RentJeeves\DataBundle\EventListener\LoggableListener

payum:
    security:
        token_storage:
            RentJeeves\DataBundle\Entity\PaymentToken: { doctrine: orm }
    payments:
        aci_collect_pay:
            aci_collect_pay: %aci_collect_pay%
        aci_pay_anyone:
            aci_pay_anyone: %aci_pay_anyone%

payum2:
    contexts:
        heartland:
            heartland:
                api:
                    options: %heartland%

services:
    pdo:
        class: PDO
        arguments:
            - "mysql:host=%database_host%;dbname=%database_name%"
            - "%database_user%"
            - "%database_password%"
        calls:
            - [setAttribute, [3, 2]] # \PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION
    session.handler.pdo:
        class:     Symfony\Component\HttpFoundation\Session\Storage\Handler\PdoSessionHandler
        arguments: ["@pdo", "%pdo.db_options%"]
    geocode_cache_adapter:
        class: "Doctrine\\Common\\Cache\\ApcCache"

be_simple_soap:
    clients:
        amsi_leasing:
            wsdl: ExternalApiBundle:AMSI:leasing.html.twig
        amsi_ledger:
            wsdl: ExternalApiBundle:AMSI:ledger.html.twig
        yardi_resident_transactions:
            wsdl: ExternalApiBundle:Yardi:ItfResidentTransactions20.html.twig
        yardi_resident_data:
            wsdl: ExternalApiBundle:Yardi:ItfResidentData.html.twig
        yardi_payment:
            wsdl: ExternalApiBundle:Yardi:ItfResidentTransactions20_SysBatch.html.twig

fos_rest:
    param_fetcher_listener: 'force'
    body_listener: true
    format_listener: true
    view:
        view_response_listener: 'force'
        formats:
            xml: false
            json: true
        templating_formats:
            html: true
        force_redirects:
            html: true
        failed_validation: HTTP_BAD_REQUEST
        default_engine: twig
        exception_wrapper_handler: RentJeeves\ApiBundle\ErrorHandler\ApiExceptionWrapperHandler
    exception:
        codes: ~
    routing_loader:
        default_format: json

sensio_framework_extra:
    view:
      annotations: false
    router:
      annotations: true
