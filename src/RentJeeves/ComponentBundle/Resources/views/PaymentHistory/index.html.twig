{% include 'RjComponentBundle:PaymentHistory:legend.html.twig' %}
{% javascripts '@RjComponentBundle/Resources/public/js/legend.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}

{% set link = 'http://'~external_urls['main_site']~'/terms-of-service' %}
{% if aActiveContracts | length > 0 %}
<div class="row-20"></div>
<div class="pod-large pod-border pod-padding shadow" id="contracts-history">
    <h3>{{ 'tenant.reporting.payment_history' |trans }}</h3>
    <div class="row-10"></div>
    {% for aContract in aActiveContracts %}
        {% include 'RjComponentBundle:PaymentHistory:paymentRow.html.twig' 
            with {
                'aContract': aContract,
                'isActive': true,
                'link': link
                }
        %}
    {% endfor %}
    <div class="clearboth"></div>
</div>
{% javascripts '@RjComponentBundle/Resources/public/js/reporting.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}
{% endif %}

{% if aFinishedContracts | length > 0 %}
<div class="row-20"></div>
<div class="pod-large pod-border pod-padding shadow">
    <h3>{{ 'rent.contracts.finished' |trans }}</h3>
    <div class="row-10"></div>
    {% for aContract in aFinishedContracts %}
        {% include 'RjComponentBundle:PaymentHistory:paymentRow.html.twig' 
            with {
                'aContract': aContract,
                'isActive': false,
                'link': link
                }
        %}
    {% endfor %}
    <div class="clearboth"></div>
</div>
{% endif %}
