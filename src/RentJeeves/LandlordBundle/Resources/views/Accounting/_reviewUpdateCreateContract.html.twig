{% form_theme form "LandlordBundle::form_widget_attributes.html.twig" %}

<tr data-bind="
    attr: {'class': $root.getClassLine($data)},
    if: !isSkipped && isValid && ((Contract.id && Contract.status != 'finished') || (!Contract.id && Tenant.id && Contract.status != 'finished'))">
    {{ form_start(form) }}
    <td data-bind="text: $root.getStatusText($data), attr: {'class': $root.getStatusText($data)}"></td>
    <td data-bind="text:Contract.unit.name"></td>
    <td data-bind="text:Tenant.resident_id"></td>
    <td data-bind="text:Tenant.first_name"></td>
    <td data-bind="text:Tenant.last_name"></td>
    <td data-bind="text:Tenant.email"></td>
    <td>
        {{
            form_widget(
                form.rent,
                {
                    "attr":
                    {
                        "data-bind":
                        "value: Contract.rent,
                         attr:
                            {
                                'class': number+'_rent import_contract_rent '+$root.getErrorClass($data, 'import_contract_rent'),
                                'title': $root.getErrorTitle($data, 'import_contract_rent')
                            }"
                    }
                }
            )
        }}
        {{ form_widget(
            form.importedBalance,
            {
                "attr":
                {
                "data-bind":
                    "value: Contract.imported_balance,
                     attr:
                        {
                            'class': number+'_balance import_contract_importedBalance '+$root.getErrorClass($data, 'import_contract_importedBalance'),
                            'title': $root.getErrorTitle($data, 'import_contract_importedBalance')
                        }"
                }
            }
        ) }}
    </td>
    <td>
        {{ form_widget(
            form.startAt,
            {
                "attr":
                {
                "data-bind": "
                    value: $root.formatDate(Contract.startAt),
                    attr: {
                        'class': number+'_startAt import_contract_startAt datepicker '+$root.getErrorClass($data, 'import_contract_startAt'),
                        'title': $root.getErrorTitle($data, 'import_contract_startAt')
                    },
                    datepicker: $root.formatDate(Contract.startAt),
                    datepickerOptions: $root.getDatePickerOptions(),
                    datepickerFieldName: 'startAt'
                    ",
                }
            }
        ) }}
        {{ form_widget(
            form.finishAt,
            {
                "attr":
                {
                "data-bind":
                    "value: $root.formatDate(Contract.finishAt),
                     datepicker: $root.formatDate(Contract.finishAt),
                     datepickerOptions: $root.getDatePickerOptions(),
                     datepickerFieldName: 'finishAt',
                     attr: {
                        'class': number+'_finishAt import_contract_finishAt datepicker '+$root.getErrorClass($data, 'import_contract_finishAt'),
                        'title': $root.getErrorTitle($data, 'import_contract_finishAt')
                     }"
                }
            }
        ) }}
    </td>
    <td>
    </td>
    <td>
        {{ form_widget(
        form.skip,
        {
            "attr": {
                "class": "skipCheckbox"
            }
        }
        )}} {{ 'skip'|trans }}
    </td>
    {{ form_widget(form._token, {"attr": {"data-bind": "value: csrfToken, attr: {'class': number+'_token import_contract__token'}"}}) }}
    {{ form_end(form) }}
</tr>
